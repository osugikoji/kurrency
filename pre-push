#!/bin/bash
echo “Running pre-push hook”
echo “- Verify Swift Package Version -”
./gradlew verifySwiftPackageVersion
if [ $? -ne 0 ]; then
 echo “Update KMM Swift Package.”
 ./gradlew shared:updateSwiftPackage
 branch_name="$(git rev-parse --abbrev-ref HEAD)"
 git add Kurrency-*.zip Package.swift Kurrency.xcframework
 git commit -m "Update swift package"
 git push origin "$branch_name" --no-verify
 exit 1
fi